
OBJS := lcd.o  key.o main.o
OBJDS := lcd.d key.d main.d

edit: $(OBJS) $(OBJDS)
	gcc -o edit $(OBJS)

%.d:%.c
	@set -e; rm -f $@.$$$$; \
	gcc -MM $< > $@.$$$$; \
	sed 's,\($*\)\.o[:]*,\1.o $@:,g' < $@.$$$$ >$@; \
	rm -f $@.$$$$
# static mode to compile c file
$(OBJS): %.o:%.c
	gcc -g -c $< -o $@
clean:
	rm $(OBJS) edit $(OBJDS)
